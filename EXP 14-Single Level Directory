#include <stdio.h>
#include <string.h>

#define MAX_FILES 100
#define NAME_LENGTH 50

int main() {
    char files[MAX_FILES][NAME_LENGTH];
    int n = 0;  // Number of files
    int choice;
    char filename[NAME_LENGTH];
    int found, i;

    while(1) {
        printf("\nSingle Level Directory Menu:\n");
        printf("1. Create File\n2. Display Files\n3. Search File\n4. Delete File\n5. Exit\n");
        printf("Enter your choice: ");
        scanf("%d", &choice);

        switch(choice) {
            case 1: // Create File
                if(n >= MAX_FILES) {
                    printf("Directory full! Cannot create more files.\n");
                } else {
                    printf("Enter file name to create: ");
                    scanf("%s", filename);
                    strcpy(files[n], filename);
                    n++;
                    printf("File '%s' created successfully.\n", filename);
                }
                break;

            case 2: // Display Files
                if(n == 0) {
                    printf("No files in directory.\n");
                } else {
                    printf("Files in directory:\n");
                    for(i = 0; i < n; i++) {
                        printf("%s\n", files[i]);
                    }
                }
                break;

            case 3: // Search File
                printf("Enter file name to search: ");
                scanf("%s", filename);
                found = 0;
                for(i = 0; i < n; i++) {
                    if(strcmp(files[i], filename) == 0) {
                        found = 1;
                        break;
                    }
                }
                if(found)
                    printf("File '%s' found in directory.\n", filename);
                else
                    printf("File '%s' not found.\n", filename);
                break;

            case 4: // Delete File
                printf("Enter file name to delete: ");
                scanf("%s", filename);
                found = 0;
                for(i = 0; i < n; i++) {
                    if(strcmp(files[i], filename) == 0) {
                        found = 1;
                        for(int j = i; j < n - 1; j++)
                            strcpy(files[j], files[j + 1]);
                        n--;
                        printf("File '%s' deleted successfully.\n", filename);
                        break;
                    }
                }
                if(!found)
                    printf("File '%s' not found.\n", filename);
                break;

            case 5: // Exit
                printf("Exiting program.\n");
                return 0;

            default:
                printf("Invalid choice! Try again.\n");
        }
    }

    return 0;
}
